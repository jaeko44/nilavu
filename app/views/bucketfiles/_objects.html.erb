<!--
** Copyright [2013-2016] [Megam Systems]
**
** Licensed under the Apache License, Version 2.0 (the "License");
** you may not use this file except in compliance with the License.
** You may obtain a copy of the License at
**
** http://www.apache.org/licenses/LICENSE-2.0
**
** Unless required by applicable law or agreed to in writing, software
** distributed under the License is distributed on an "AS IS" BASIS,
** WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
** See the License for the specific language governing permissions and
** limitations under the License.
-->

<div class="rt-box col-xs-12 col-sm-9 col-md-10 c_bg_white c_height_5">

    <%= render :partial => "users/topright_icons", :locals => {:title_name => "Your Files", :upload_button => "true"} %>

    <!--	<%= react_component('Show' )  %> -->
    <div class="col-xs-12 col-sm-9 col-md-9 br_grey">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                <table class="table yfiles-tb tb_upload objectPageList">
                    <tbody>
                        <% @listed_buckets[:usage].each do |bucketfile| %>
                        <tr class="del-up-cover">
                            <!--<td width="5%">
                            <div class="checker">
                                <span class="">
                                    <input type="checkbox">
                                </span>
                            </div></td>-->
                            <td class="td-left objectListTd" id="<%= bucketfile.name %>"><i id="objectFormat" class="pop_icon"></i><b><%= bucketfile.name.split("/").last %></b><i> - <%= bucketfile.size_with_units %></i></td>
                            <td style="padding-top:17px"> <%= link_to bucketfile.download_url do %> <i class="c_icon-d margin_15  pull-right"></i> <% end %> </td>
                            <td style="padding-top:15px"> <%= link_to bucketfile_path( :id => "dummy", :key => bucketfile.key,  :bucket_name => @listed_buckets[:bucket_name] ), method: :DELETE, :remote => true do %> <i class="c_icon-trash margin_15 pull-right"></i> <% end %> </td>
                        </tr>
                        <% end %>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <%= render :partial => "bucketfiles/usage", :locals => {:objects => @listed_buckets, :page => 'show'} %>
</div>

<%= @bucket_name = @listed_buckets[:bucket_name] %>
<%= render :partial => "buckets/upload_modal", :locals => {:bucket_name => @bucket_name} %>
<script src="assets/megam.storages.js" />
